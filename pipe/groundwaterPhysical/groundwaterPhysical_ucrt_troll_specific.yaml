---
pipeline:
  name: groundwaterPhysical_ucrt_troll_specific
transform:
  cmd:
  - Rscript
  - /flow.troll.uncertainty.R
  - DirIn=$DIR_IN
  - DirOut=/pfs/out
  - Context=groundwater
  - WndwInst=TRUE
  - WndwAgr=030
  - FileSchmData=$SCHEMA_DATA
  - FileSchmUcrt=$SCHEMA_UCRT
  - FileSchmSciStats=$SCHEMA_SCI
  image: quay.io/battelleecology/neon-is-troll-uncertainty-r:v0.0.15
  image_pull_secrets:
  - battelleecology-quay-read-all-pull-secret
  env:
    LOG_LEVEL: DEBUG
input:
  cross:
  - pfs:
      name: DIR_IN
      repo: groundwaterPhysical_pre_statistics_group
      glob: /aquatroll200/*/*/*
  - pfs:
      name: SCHEMA_DATA
      repo: avro_schemas_groundwaterPhysical
      glob: /groundwaterPhysical/groundwaterPhysical_dp01_troll_specific_data.avsc
  - pfs:
      name: SCHEMA_UCRT
      repo: avro_schemas_groundwaterPhysical
      glob: /groundwaterPhysical/groundwaterPhysical_dp01_troll_specific_ucrt.avsc
  - pfs:
      name: SCHEMA_SCI
      repo: avro_schemas_groundwaterPhysical
      glob: /groundwaterPhysical/groundwaterPhysical_dp01_troll_specific_sci_stats.avsc
parallelism_spec:
  constant: 1
resource_requests: 
  memory: 400M
  cpu: 1.2
pod_patch: '[{"op":"replace","path":"/containers/1/resources/requests/memory","value":"500M"},{"op":"replace","path":"/containers/1/resources/requests/cpu","value":"0.2"}]'
autoscaling: true
